(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{2738:(e,t,r)=>{Promise.resolve().then(r.bind(r,5385))},5385:(e,t,r)=>{"use strict";r.d(t,{default:()=>m});var s=r(4568),a=r(9722),i=r(6525),n=r(4531),o=r(6892),l=r(8354),c=r(3311),d=r(8809),u=r(9526),h=r(7620),x=r(6547);function m(e){let{recording:t,recordingId:r}=e,m=(0,c.useRouter)(),{setCurrentRecordingById:v}=(0,u.n)(),[p]=(0,h.useState)(t),[b,w]=(0,h.useState)({});(0,h.useEffect)(()=>{r!==(null==p?void 0:p.id)&&v(r,p)},[r,p,v]);let f=async(e,t)=>{try{await navigator.clipboard.writeText(e),w(e=>({...e,[t]:!0})),x.oR.success("".concat("transcription"===t?"Transcription":"Summary"," copied to clipboard")),setTimeout(()=>{w(e=>({...e,[t]:!1}))},2e3)}catch(e){x.oR.error("Failed to copy to clipboard")}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-black via-black/95 to-black/90 text-white pb-20",children:[(0,s.jsx)("header",{className:"sticky top-0 z-10 bg-black/60 backdrop-blur-md border-b border-white/[0.06]",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-3 flex items-center gap-3",children:[(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"shrink-0 text-white/80 hover:text-white hover:bg-white/10 rounded-xl transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>m.back(),children:(0,s.jsx)(n.A,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("h1",{className:"text-base font-medium text-white/90 truncate",children:p.title||"Untitled Recording"}),(0,s.jsx)("p",{className:"text-xs text-white/40",children:p.createdAt?new Date(p.createdAt).toLocaleString():"Unknown date"})]})]})}),(0,s.jsxs)("main",{className:"max-w-3xl mx-auto px-4 py-8 space-y-6",children:[p.data&&(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute -inset-px bg-gradient-to-r from-white/[0.08] to-white/[0.05] rounded-xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),(0,s.jsxs)("div",{className:"relative bg-white/[0.04] hover:bg-white/[0.06] rounded-xl p-6 backdrop-blur-xl border border-white/[0.06] transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-white/90",children:"Transcription"}),(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"text-white/40 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>f(p.data,"transcription"),children:b.transcription?(0,s.jsx)(o.A,{className:"h-4 w-4"}):(0,s.jsx)(l.A,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"prose prose-invert max-w-none prose-p:text-white/70 hover:prose-p:text-white/90  prose-headings:text-white prose-strong:text-white/90 prose-a:text-blue-400 prose-p:transition-colors prose-p:duration-200",children:(0,s.jsx)(d.o,{children:p.data})})]})]}),p.summary&&(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"absolute -inset-px bg-gradient-to-r from-white/[0.08] to-white/[0.05] rounded-xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity"}),(0,s.jsxs)("div",{className:"relative bg-white/[0.04] hover:bg-white/[0.06] rounded-xl p-6 backdrop-blur-xl border border-white/[0.06] transition-colors",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-medium text-white/90",children:"Summary"}),(0,s.jsx)(i.$,{variant:"ghost",size:"icon",className:"text-white/40 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>f(p.summary,"summary"),children:b.summary?(0,s.jsx)(o.A,{className:"h-4 w-4"}):(0,s.jsx)(l.A,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"prose prose-invert max-w-none prose-p:text-white/70 hover:prose-p:text-white/90  prose-headings:text-white prose-strong:text-white/90 prose-a:text-blue-400 prose-p:transition-colors prose-p:duration-200",children:(0,s.jsx)(d.o,{children:p.summary})})]})]})]}),(0,s.jsx)(a.GlobalPlayer,{initialRecordingId:r,forceShow:!0})]})}},9722:(e,t,r)=>{"use strict";r.d(t,{GlobalPlayer:()=>m});var s=r(4568),a=r(7620),i=r(9526),n=r(6525),o=r(3106),l=r(226),c=r(7306),d=r(3312),u=r(8214),h=r(9773);let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsxs)(u.bL,{ref:t,className:(0,h.cn)("relative flex w-full touch-none select-none items-center",r),...a,children:[(0,s.jsx)(u.CC,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,s.jsx)(u.Q6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(u.zi,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});function m(e){let{initialRecordingId:t,forceShow:r=!1}=e,{currentRecording:u,isPlaying:h,currentTime:m,duration:v,pause:p,resume:b,seek:w,clearCurrentRecording:f,setCurrentRecordingById:g}=(0,i.n)(),[j,N]=(0,a.useState)(0),[y,k]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{t&&t!==(null==u?void 0:u.id)&&g(t)},[t,g,null==u?void 0:u.id]),(0,a.useEffect)(()=>{u&&v>0&&!y&&N(m/v*100)},[m,v,u,y]),!u&&!r)return null;let S=e=>{let t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))};return(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-black/60 backdrop-blur-md border-t border-white/[0.06] shadow-2xl shadow-black/20",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,s.jsx)("div",{className:"px-4 pt-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("span",{className:"text-[11px] tabular-nums text-white/40 w-10",children:S(m)}),(0,s.jsx)(x,{value:[j],max:100,step:.1,className:"flex-1",onValueChange:e=>{void 0!==e[0]&&(N(e[0]),v&&w(e[0]/100*v))},onValueCommit:()=>k(!1),onPointerDown:()=>k(!0)}),(0,s.jsx)("span",{className:"text-[11px] tabular-nums text-white/40 w-10",children:S(v)})]})}),(0,s.jsxs)("div",{className:"flex items-center p-3 gap-4",children:[(0,s.jsx)(n.$,{variant:"ghost",size:"icon",className:"relative w-10 h-10 text-white hover:text-white hover:bg-white/10 rounded-xl transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>{h?p():u&&b()},disabled:!u,children:u?h?(0,s.jsx)(l.A,{className:"h-5 w-5"}):(0,s.jsx)(c.A,{className:"h-5 w-5 ml-0.5"}):(0,s.jsx)(o.A,{className:"h-5 w-5 animate-spin text-white/40"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"text-[15px] font-medium truncate text-white/90",children:u?u.title||"Untitled Recording":"No recording selected"}),(0,s.jsx)("p",{className:"text-[13px] text-white/40 truncate",children:u?S(v):"Select a recording to play"})]}),u&&!r&&(0,s.jsx)(n.$,{variant:"ghost",size:"icon",className:"text-white/40 hover:text-white hover:bg-white/10 rounded-lg transition-all duration-200 hover:scale-105 active:scale-95",onClick:f,children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})]})]})})}x.displayName=u.bL.displayName},9526:(e,t,r)=>{"use strict";r.d(t,{G:()=>o,n:()=>l});var s=r(4568),a=r(7620),i=r(9633);let n=(0,a.createContext)(null);function o(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(0),[h,x]=(0,a.useState)(0),m=(0,a.useRef)(null);(0,a.useEffect)(()=>(m.current=new Audio,m.current.addEventListener("timeupdate",()=>{var e;u((null===(e=m.current)||void 0===e?void 0:e.currentTime)||0)}),m.current.addEventListener("loadedmetadata",()=>{var e;x((null===(e=m.current)||void 0===e?void 0:e.duration)||0)}),m.current.addEventListener("ended",()=>{c(!1),u(0)}),()=>{m.current&&(m.current.pause(),m.current.src="")}),[]);let v=async(e,t)=>{var r,s;if(t){if(o(t),m.current){let e="/api/source?key=".concat(null===(r=t.source)||void 0===r?void 0:r.data);m.current.src=e,x(m.current.duration||0)}}else{let t=await (0,i.M)(e);if(t&&(o(t),m.current)){let e="/api/source?key=".concat(null===(s=t.source)||void 0===s?void 0:s.data);m.current.src=e,x(m.current.duration||0)}}};return(0,s.jsx)(n.Provider,{value:{currentRecording:r,isPlaying:l,currentTime:d,duration:h,play:e=>{var t;if(!m.current)return;o(e);let r="/api/source?key=".concat(null===(t=e.source)||void 0===t?void 0:t.data);m.current.src=r,m.current.play(),c(!0)},pause:()=>{m.current&&(m.current.pause(),c(!1))},resume:()=>{m.current&&(m.current.play(),c(!0))},seek:e=>{m.current&&(m.current.currentTime=e,u(e))},clearCurrentRecording:()=>{m.current&&(m.current.pause(),m.current.src=""),o(null),c(!1),u(0),x(0)},setCurrentRecordingById:v},children:t})}function l(){let e=(0,a.useContext)(n);if(!e)throw Error("useAudio must be used within an AudioProvider");return e}},6525:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>l});var s=r(4568),a=r(7620),i=r(7680),n=r(3686),o=r(9773);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:c=!1,...d}=e,u=c?i.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:n,className:r})),ref:t,...d})});c.displayName="Button"},9773:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(5928),a=r(6564);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},9633:(e,t,r)=>{"use strict";r.d(t,{M:()=>a});var s=r(6541);let a=(0,s.createServerReference)("7f4f32e228f8053d3f2f40b8267c754af0dd2e1eab",s.callServer,void 0,s.findSourceMapURL,"getRecordingById")}},e=>{var t=t=>e(e.s=t);e.O(0,[471,911,103,587,855,358],()=>t(2738)),_N_E=e.O()}]);